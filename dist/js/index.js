"use strict";function asyncGeneratorStep(e,t,n,i,s,o,a){try{var c=e[o](a),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(i,s)}function _asyncToGenerator(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var i=c.apply(e,a);function s(e){asyncGeneratorStep(i,t,n,s,o,"next",e)}function o(e){asyncGeneratorStep(i,t,n,s,o,"throw",e)}s(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}$(function(){new(function(){function t(e){_classCallCheck(this,t),this.ele=document.querySelector(e),this.imgBox=this.ele.querySelector(".imgBox"),this.dotBox=this.ele.querySelector(".dot"),this.index=0,this.timer=0,this.init()}return _createClass(t,[{key:"init",value:function(){this.setDot(),this.autoplay(),this.overOut(),this.cutDot()}},{key:"setDot",value:function(){this.dotNum=this.imgBox.children.length;for(var e=document.createDocumentFragment(),t=0;t<this.dotNum;t++){var n=document.createElement("li");0===t&&n.classList.add("show"),n.setAttribute("dotIndex",t),e.appendChild(n)}this.dotBox.appendChild(e),this.dotBox.style.width=20*this.dotNum*1.5+"px"}},{key:"changOne",value:function(e){this.imgBox.children[this.index].classList.remove("show"),this.dotBox.children[this.index].classList.remove("show"),!0===e?this.index++:!1===e?this.index--:this.index=e,this.index>=this.imgBox.children.length&&(this.index=0),this.index<0&&(this.index=this.imgBox.children.length-1),this.imgBox.children[this.index].classList.add("show"),this.dotBox.children[this.index].classList.add("show")}},{key:"autoplay",value:function(){var e=this;this.timer=setInterval(function(){e.changOne(!0)},2e3)}},{key:"overOut",value:function(){var e=this;this.ele.addEventListener("mouseover",function(){return clearInterval(e.timer)}),this.ele.addEventListener("mouseout",function(){return e.autoplay()})}},{key:"cutDot",value:function(){var t=this;this.dotBox.addEventListener("click",function(e){e=(e=e||window.event).target||e.srcElement;"LI"===e.nodeName&&(e=+e.getAttribute("dotIndex"),t.changOne(e))})}},{key:"cutPage",value:function(){var t=this;document.addEventListener("visibilitychange",function(){var e=document.visibilityState;"hidden"===e&&clearInterval(t.timer),"visible"===e&&t.autoplay()})}}]),t}())(".banner")}),$(".classify > ul>li").mouseover(function(){$(".classify > ul>span").css("left",100*$(this).index()).html($(this).html())}),$("#subject ol>li").click(function(){$("html").animate({scrollTop:$("#subject ul>li").eq($(this).index()).offset().top-60}),$(this).addClass("active").siblings().removeClass("active")}),$(window).scroll(function(){for(var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight,n=$("#subject ul>li"),i=0;i<n.length;i++){var s=$(n[i]).offset().top;$(n[i]).outerHeight();s<=e+t&&$("#subject ol>li").removeClass("active").eq(i).addClass("active")}e<"600"&&$("#ceiling").slideUp(500).css("display","none"),"600"<=e&&$("#ceiling").slideDown(500).css("display","flax")}),$("#subject > ul > li >p").on("click",function(){var e=$(this).attr("class_one");setCookie("class_one",e),window.location.href="../html/list.html"});var list=null,show={love:$(".love").attr("show"),festival:$(".festival").attr("show"),fete:$(".fete").attr("show"),other:$(".other").attr("show")};$(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/dl/getIndexShop.php",{show:show.love},null,"json");case 2:t=e.sent,n="",t.list.forEach(function(e){n+='\n            <div class="shopId" data-id="'.concat(e.Id,'">\n                        <div class="index_img">\n                            <img src="').concat(e.shop_img,'" alt="">\n                        </div>\n                        <p>').concat(e.title,"</p>\n                        <span>").concat(e.price,"</span>\n                    </div>\n            ")}),$("#subject .love").html(n);case 6:case"end":return e.stop()}},e)}))),$(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/dl/getIndexShop.php",{show:show.festival},null,"json");case 2:t=e.sent,n="",t.list.forEach(function(e){n+='\n            <div class="shopId" data-id="'.concat(e.Id,'">\n                        <div class="index_img">\n                            <img src="').concat(e.shop_img,'" alt="">\n                        </div>\n                        <p>').concat(e.title,"</p>\n                        <span>").concat(e.price,"</span>\n                    </div>\n            ")}),$("#subject .festival").html(n);case 6:case"end":return e.stop()}},e)}))),$(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/dl/getIndexShop.php",{show:show.fete},null,"json");case 2:t=e.sent,n="",t.list.forEach(function(e){n+='\n            <div class="shopId" data-id="'.concat(e.Id,'">\n                        <div class="index_img">\n                            <img src="').concat(e.shop_img,'" alt="">\n                        </div>\n                        <p>').concat(e.title,"</p>\n                        <span>").concat(e.price,"</span>\n                    </div>\n            ")}),$("#subject .fete").html(n);case 6:case"end":return e.stop()}},e)}))),$(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/dl/getIndexShop.php",{show:show.other},null,"json");case 2:t=e.sent,n="",t.list.forEach(function(e){n+='\n            <div class="shopId" data-id="'.concat(e.Id,'">\n            \n                        <div class="index_img">\n                            <img src="').concat(e.shop_img,'" alt="">\n                        </div>\n                        <p>').concat(e.title,"</p>\n                        <span>").concat(e.price,"</span>\n                    </div>\n            ")}),$("#subject .other").html(n);case 6:case"end":return e.stop()}},e)}))),$("#subject ul li").on("click","div.shopId",function(){var e=$(this).data("id");console.log(e),setCookie("shop_id",e),window.location.href="../html/details.html"});